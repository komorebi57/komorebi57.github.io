<!DOCTYPE html>
<html>
<head>
<script src="p5.min.js"></script>
<script>
var iOS = navigator.userAgent.match(/iPad|iPhone|iPod/g);
var dx = 0, dy = 0, dz = 0;
var x = 300;
var y = 300;

var onDeviceMotion = function(e) {
    var a = e.accelerationIncludingGravity;
    dx = -a.x;
    dy = -a.y;
    dz = a.z;
    
    if(!iOS) {
        dx = dx * -1;
        dy = dy * -1;
    }
};

var setup = function() {
    createCanvas(600, 600);
    window.addEventListener('devicemotion', onDeviceMotion, false);
};

var draw = function() {
    x = x - dx;
    y = y + dy;
    ellipse(x, y, 10, 10);
};
</script>
<style>
  body {
    padding: 0;
    margin: 0;
  }
</style>
</head>
<body>

</body>
</html>
