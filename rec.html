<!DOCTYPE html>
<html>
<head>
<script>
    var ctx;
    function main() {
        var c = document.getElementById('c');
        ctx = c.getContext('2d');
        c.width = window.innerWidth;
        c.height = window.innerHeight;  
    
        for(i = 0; i < 15; i++){
            var ang = i / 15 * 2 * Math.PI;
            var x1 = window.innerWidth / 2 + Math.cos(ang) * 20;
            var y1 = window.innerHeight / 2 - Math.sin(ang) * 20;
            var x2 = window.innerWidth / 2 + Math.cos(ang) * 100;
            var y2 = window.innerHeight / 2 - Math.sin(ang) * 100;
            var len1 = 10;
            var len2 = 20;
            rec(x1, y1, x2, y2, len1, len2)
        }
        
        for(i = 0; i < 8; i++){
            var ang = i / 8 * 2 * Math.PI;
            var x1 = window.innerWidth / 2 + Math.cos(ang) * 10;
            var y1 = window.innerHeight / 2 - Math.sin(ang) * 10;
            var x2 = window.innerWidth / 2 + Math.cos(ang) * 40;
            var y2 = window.innerHeight / 2 - Math.sin(ang) * 40;
            var len1 = 8;
            var len2 = 20;
            rec2(x1, y1, x2, y2, len1, len2)
        }
}
    
function rec(x1, y1, x2, y2, len1, len2) {
        var angle = Math.atan2(y2 - y1, x2 - x1) + Math.PI * 0.5;
    
        var x3 = Math.cos(angle) * len1 * 0.5 + x1;
        var y3 = Math.sin(angle) * len1 * 0.5 + y1;

        var x4 = Math.cos(angle + Math.PI) * len1 * 0.5 + x1;
        var y4 = Math.sin(angle + Math.PI) * len1 * 0.5 + y1;

        var x5 = Math.cos(angle + Math.PI) * len2 * 0.5 + x2;
        var y5 = Math.sin(angle + Math.PI) * len2 * 0.5 + y2;

        var x6 = Math.cos(angle) * len2 * 0.5 + x2;
        var y6 = Math.sin(angle) * len2 * 0.5 + y2;

        ctx.beginPath();
        ctx.moveTo(x3, y3);
        ctx.lineTo(x4, y4);
        ctx.lineTo(x5, y5);
        ctx.lineTo(x6, y6);
        ctx.lineTo(x3, y3);

        var linearGradient = ctx.createLinearGradient(x1, y1, x2, y2);
        linearGradient.addColorStop(0, '#fff54d');
        linearGradient.addColorStop(0.5, '#fff54d');
        linearGradient.addColorStop(1, '#4dffec');   
        ctx.fillStyle = linearGradient;
        ctx.fill();
};

function rec2(x1, y1, x2, y2, len1, len2) {
        var angle = Math.atan2(y2 - y1, x2 - x1) + Math.PI * 0.5;
    
        var x3 = Math.cos(angle) * len1 * 0.5 + x1;
        var y3 = Math.sin(angle) * len1 * 0.5 + y1;

        var x4 = Math.cos(angle + Math.PI) * len1 * 0.5 + x1;
        var y4 = Math.sin(angle + Math.PI) * len1 * 0.5 + y1;

        var x5 = Math.cos(angle + Math.PI) * len2 * 0.5 + x2;
        var y5 = Math.sin(angle + Math.PI) * len2 * 0.5 + y2;

        var x6 = Math.cos(angle) * len2 * 0.5 + x2;
        var y6 = Math.sin(angle) * len2 * 0.5 + y2;

        ctx.beginPath();
        ctx.moveTo(x3, y3);
        ctx.lineTo(x4, y4);
        ctx.lineTo(x5, y5);
        ctx.lineTo(x6, y6);
        ctx.lineTo(x3, y3);

        var linearGradient = ctx.createLinearGradient(x1, y1, x2, y2);
        linearGradient.addColorStop(0, '#691391');
        linearGradient.addColorStop(1, '#fffc00');   
        ctx.fillStyle = linearGradient;
        ctx.fill();
};


window.addEventListener('load', main);

</script>    
<style>
    body{margin: 0;}
    canvas {display: block;}
</style>
</head>

<body>
    <canvas id="c"></canvas>
</body>
</html>